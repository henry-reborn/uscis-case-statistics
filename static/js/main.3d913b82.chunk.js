(this["webpackJsonpuscis-case-statistics"]=this["webpackJsonpuscis-case-statistics"]||[]).push([[0],{189:function(e,t,a){e.exports=a.p+"static/media/donation_wechat.84e04efe.jpg"},190:function(e,t,a){e.exports=a.p+"static/media/wechat_group_qr.b70b83ac.jpg"},191:function(e,t,a){e.exports=a.p+"static/media/wechat_qr.6a2dd925.jpg"},192:function(e,t,a){e.exports=a.p+"static/media/case_number_format.e778d75a.png"},193:function(e,t,a){e.exports=a.p+"static/media/monetization.b7e75b32.jpg"},194:function(e,t,a){e.exports=a.p+"static/media/venmo.76bf9850.png"},228:function(e,t,a){e.exports=a(446)},412:function(e,t,a){var n={"./data_center_year_code_day_serial_21.json":[447,3],"./data_center_year_code_day_serial_22.json":[448,4]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id=412,e.exports=r},413:function(e,t,a){var n={"./data_center_year_day_code_serial_21.json":[449,5],"./data_center_year_day_code_serial_22.json":[450,6]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,3)}))}r.keys=function(){return Object.keys(n)},r.id=413,e.exports=r},446:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(28),c=a.n(o),l=a(176),u=a(195),i=a(120),s=a.n(i),m=a(177),d=a(25),f=a(178),p=a.n(f),y=a(39),v=a(179),h=a.n(v),E=a(63),g=a(40),b=a(478),_=a(481),w=a(480),j=a(474),O=a(476),x=a(479),S=a(477),A=new Map([["Case Was Approved And My Decision Was Emailed","Case Was Approved"],["Case Was Received and A Receipt Notice Was Emailed","Case Was Received"],["Case Was Received and A Receipt Notice Was Sent","Case Was Received"],["Request for Initial Evidence Was Sent","Request for Additional Evidence Was Sent"],["Case Was Transferred And A New Office Has Jurisdiction","Case Transferred And New Office Has Jurisdiction"]]);function k(e){var t;return null!==(t=y.a.Map([["Case Was Received","#999900"],["Case Was Approved","#00FF00"],["Request for Additional Evidence Was Sent","#FF0000"]]).get(e))&&void 0!==t?t:(new p.a).hex(e)}var M=function(){var e,t,o,c,i,f,p,v,M=null!==(e=new URL(window.location.href).searchParams.get("form"))&&void 0!==e?e:"I-129",C=null!==(t=new URL(window.location.href).searchParams.get("center"))&&void 0!==t?t:"WAC",I=null!==(o=new URL(window.location.href).searchParams.get("mode"))&&void 0!==o?o:"data_center_year_code_day_serial",D=new URL(window.location.href).searchParams.get("fy"),L=Object(n.useState)(null),W=Object(d.a)(L,2),P=W[0],F=W[1],N=Object(n.useState)({}),R=Object(d.a)(N,2),U=R[0],B=R[1],Q=Object(n.useState)({}),T=Object(d.a)(Q,2),q=T[0],X=T[1],K=function(e,t){var a=new URL(window.location.href),n=a.searchParams;n.set(e,t),a.search=n.toString(),window.location.href=a.toString()},H=new URL(window.location.href);Object(n.useEffect)((function(){Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H.searchParams.get("fy")||K("fy","21"),H.searchParams.get("form")||K("form","I-129"),H.searchParams.get("center")||K("center","WAC"),!H.searchParams.get("mode")&&H.searchParams.get("form")&&K("mode",["I-485","I-140"].includes(H.searchParams.get("form"))?"data_center_year_code_day_serial":"data_center_year_day_code_serial"),!(H.searchParams.get("form")&&H.searchParams.get("center")&&H.searchParams.get("mode"))){e.next=25;break}return e.t0=X,e.next=8,a.e(7).then(a.t.bind(null,483,3));case 8:return e.next=10,e.sent.default;case 10:if(e.t1=e.sent,(0,e.t0)(e.t1),"data_center_year_code_day_serial"!==I){e.next=20;break}return e.t2=B,e.next=16,a(412)("./data_center_year_code_day_serial_"+D+".json");case 16:e.t3=e.sent.default,(0,e.t2)(e.t3),e.next=25;break;case 20:return e.t4=B,e.next=23,a(413)("./data_center_year_day_code_serial_"+D+".json");case 23:e.t5=e.sent.default,(0,e.t4)(e.t5);case 25:case"end":return e.stop()}}),e)})))()}),[I,D,H.searchParams]);var J,z=Object(n.useMemo)((function(){return y.a.List(Object.entries(U).flatMap((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1],r=a.split("|"),o=Object(d.a)(r,6),c=o[0],l=o[1],u=o[2],i=o[3],s=o[4],m=o[5];return Object.entries(n).map((function(e){return{center:c,year:l,day:u,code:i,form:s,status:m,updateDay:e[0],count:e[1]}}))}))).groupBy((function(e){var t;return e.center+e.year+e.day+e.code+e.form+(null!==(t=A.get(e.status))&&void 0!==t?t:e.status)+e.updateDay})).map((function(e){return e.toList().toArray()})).map((function(e){var t;return{center:e[0].center,year:e[0].year,day:e[0].day,code:e[0].code,form:e[0].form,status:null!==(t=A.get(e[0].status))&&void 0!==t?t:e[0].status,updateDay:e[0].updateDay,count:E.sumBy(e,(function(e){return e.count}))}})).toList()}),[U]),G=Object(n.useMemo)((function(){return z.filter((function(e){return e.form===M&&e.center===C}))}),[z,M,C]),V=Object(n.useMemo)((function(){return G.map((function(e){return Number.parseInt(e.updateDay)})).toSet().toList().sort()}),[G]),Y=Object(n.useMemo)((function(){return G.map((function(e){return Number.parseInt(e.updateDay)})).max()}),[G]),Z=Object(n.useMemo)((function(){return G.filter((function(e){var t;return e.updateDay===(null===(t=null!==P&&void 0!==P?P:Y)||void 0===t?void 0:t.toString())}))}),[G,P,Y]),$=Object(n.useMemo)((function(){return z.map((function(e){return e.form})).toSet().filter((function(e){return e&&e.length>0}))}),[z]),ee=Object(n.useMemo)((function(){return z.map((function(e){return e.center})).toSet().filter((function(e){return e&&e.length>0&&"default"!==e}))}),[z]),te=Object(n.useMemo)((function(){return G.countBy((function(e){return e.status}))}),[G]),ae=Object(n.useMemo)((function(){return G.map((function(e){return e.status})).toSet().toList().sortBy((function(e){var t;return-(null!==(t=te.get(e))&&void 0!==t?t:0)}))}),[G,te]),ne=Object(n.useMemo)((function(){return G.map((function(e){return Number.parseInt(e.day)})).toSet().toList().sort()}),[G]),re=Object(n.useMemo)((function(){return Z.groupBy((function(e){return e.day})).map((function(e,t){return Object(u.a)({day:t},e.reduce((function(e,t){return e.set(t.status,t.count)}),y.a.Map()).toObject())})).toList().sort((function(e,t){return Number.parseInt(e.day)-Number.parseInt(t.day)})).toArray()}),[Z]),oe=Object(n.useMemo)((function(){return G.filter((function(e){var t,a;return e.updateDay===(Number.parseInt(null!==(t=null===(a=null!==P&&void 0!==P?P:Y)||void 0===a?void 0:a.toString())&&void 0!==t?t:"0")-1).toString()})).groupBy((function(e){return e.day})).map((function(e){return y.a.Map(e.map((function(e){return[e.status.toString(),e.count]})).toArray())}))}),[G,P,Y]),ce=Object(n.useMemo)((function(){return G.filter((function(e){var t;return e.updateDay===(null===(t=null!==P&&void 0!==P?P:Y)||void 0===t?void 0:t.toString())})).groupBy((function(e){return e.day})).map((function(e){return y.a.Map(e.map((function(e){return[e.status.toString(),e.count]})).toArray())}))}),[G,P,Y]),le=Object(n.useMemo)((function(){return ne.map((function(e){var t;return null!==(t=re.find((function(t){return t.day===e.toString()})))&&void 0!==t?t:{day:e.toString()}})).toArray()}),[ne,re]),ue=new Map,ie=Object(l.a)(le);try{for(ie.s();!(J=ie.n()).done;)for(var se=J.value,me=0,de=Object.entries(se);me<de.length;me++){var fe,pe=Object(d.a)(de[me],2),ye=pe[0],ve=pe[1];"day"!==ye&&ue.set(ye,Number.parseInt(ve)+(null!==(fe=ue.get(ye))&&void 0!==fe?fe:0))}}catch(Me){ie.e(Me)}finally{ie.f()}var he=y.a.List(Object.entries(null!==(c=q[null!==(i=null!==P&&void 0!==P?P:Y)&&void 0!==i?i:""])&&void 0!==c?c:{})).map((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1],r=a.split("|"),o=Object(d.a)(r,8);return{format:o[0],form:o[1],center:o[2],year:o[3],code:o[4],day:o[5],from:o[6],to:o[7],count:n}})).filter((function(e){return e.year===D&&e.center===C&&e.form===M&&"data_"+e.format===H.searchParams.get("mode")})).groupBy((function(e){return e.from+e.to})).toMap().map((function(e){return e.valueSeq().toList()})).valueSeq().toList().map((function(e){return{from:e.get(0).from,to:e.get(0).to,count:E.sumBy(e.toArray(),(function(e){return e.count}))}})).toArray(),Ee=r.a.createElement("div",null,he.sort((function(e,t){return t.count-e.count})).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{style:{color:k(e.from),display:"inline"}},e.from),r.a.createElement("b",null," => "),r.a.createElement("div",{style:{color:k(e.to),display:"inline"}},e.to),r.a.createElement("b",null," : "+e.count))}))),ge=E.sum(Array.from(ue.values())),be=r.a.createElement("div",null,r.a.createElement("h3",null,"Total for ",C," and ",M," on your selected date"),r.a.createElement("h4",null,"Transitioning"),Ee,r.a.createElement("br",null),r.a.createElement("h4",null,"Total Counts:"),Array.from(ue).sort((function(e,t){return t[1]-e[1]})).map((function(e,t){var a=Object(d.a)(e,2),n=a[0],o=a[1];return r.a.createElement("div",{key:t,style:{color:k(n)}},n," : ",o,", ",(100*o/ge).toFixed(2),"%")})),r.a.createElement("div",null,r.a.createElement("b",null,"Total: ",ge))),_e=Object(n.useMemo)((function(){return ce.valueSeq().map((function(e){return E.sum(e.valueSeq().toArray())})).max()}),[ce]),we=Object(n.useMemo)((function(){var e,t;return r.a.createElement(g.b,{height:1440,width:810,data:le,layout:"vertical"},r.a.createElement(g.c,{strokeDasharray:"3 3"}),r.a.createElement(g.e,{type:"number",dataKey:"day",domain:[0,null!==_e&&void 0!==_e?_e:1]}),r.a.createElement(g.f,{type:"category",dataKey:"day",width:150,tickFormatter:function(e){return"data_center_year_code_day_serial"===I?C+D+"9"+e.toString().padStart(3,"0")+"XXXX":C+D+e.toString().padStart(3,"0")+"5XXXX"},domain:[(null!==(e=ne.min())&&void 0!==e?e:0)-1,(null!==(t=ne.max())&&void 0!==t?t:1)+1],tick:{fontSize:"6"},interval:0,allowDecimals:!0,ticks:ne.toArray()}),r.a.createElement(g.d,{offset:100,content:function(e){var t,a,n,o,c=e.payload,l=e.label,u=null!==(t=null===(a=ce.get(l))||void 0===a?void 0:a.reduce((function(e,t){return e+t}),0))&&void 0!==t?t:1,i=null!==(n=null===(o=oe.get(l))||void 0===o?void 0:o.reduce((function(e,t){return e+t}),0))&&void 0!==n?n:1;return r.a.createElement("div",{style:{backgroundColor:"#F0F8FF"}},r.a.createElement("p",null,"".concat(l)),(null!==c&&void 0!==c?c:[]).map((function(e,t){var a,n,o=null!==(a=null===(n=oe.get(l))||void 0===n?void 0:n.get(e.dataKey))&&void 0!==a?a:0;return r.a.createElement("p",{key:t,style:{color:e.fill,marginBottom:"3px"}},"".concat(e.dataKey,": ").concat(e.value," of ").concat(u," (").concat((100*e.value/u).toFixed(2),"%), Previous day: ").concat(o," of ").concat(i,",  (").concat((100*o/i).toFixed(2),"%)"))})))},itemSorter:function(e){return-ae.indexOf(h()(e.dataKey))}}),ae.toArray().map((function(e,t){return r.a.createElement(g.a,{key:t,isAnimationActive:!1,dataKey:e,stackId:"a",fill:k(e)})})))}),[le,_e,ne,ae,ce,oe,I,C,D]),je=r.a.createElement("div",null,r.a.createElement("h1",null,"USCIS case progress tracker"),r.a.createElement("p",null,"Current Form: ",r.a.createElement("strong",null,M),",",r.a.createElement("br",null)," location:"," ",r.a.createElement("strong",null,C),",",r.a.createElement("br",null),"Case number mode: ",r.a.createElement("strong",null,I),r.a.createElement("br",null)," Last Update for this form and location:",r.a.createElement("strong",null,Y?new Date(864e5*Y+252e5).toDateString():"Not Exist currently")),r.a.createElement("h3",null,"Help needed for UI and clawer"),r.a.createElement("p",null,"GitHub project:",r.a.createElement("a",{href:"https://github.com/vicdus/uscis-case-statistics/",target:"_blank",rel:"noopener noreferrer"},"https://github.com/vicdus/uscis-case-statistics/"))),Oe=V.max()?r.a.createElement(j.a,{item:!0,xs:8},r.a.createElement(S.a,{style:{marginLeft:"128px",marginRight:"128px"},defaultValue:null!==(f=V.max())&&void 0!==f?f:1,onChange:function(e,t){return F(t.toString())},"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",step:null,marks:V.map((function(e){return{value:e,label:1+new Date(864e5*e+252e5).getMonth()+"/"+new Date(864e5*e+252e5).getDate()}})).toArray(),min:null!==(p=V.min())&&void 0!==p?p:0,max:null!==(v=V.max())&&void 0!==v?v:1})):null,xe=r.a.createElement(b.a,{fullWidth:!0,component:"fieldset"},r.a.createElement(w.a,{component:"legend"},"Form Type  ",r.a.createElement("p",{style:{color:"red"}},r.a.createElement("strong",null," (Note: Check 'unknown' type for card-mailed I-485/I-765 case \u5df2\u53d1\u5361\u7684I-485/I-765 \u4f1a\u88ab\u5f52\u7c7b\u4e3aunknwon \u7531\u4e8e\u53d1\u5361\u540e\u65e0\u6cd5\u4eceUSCIS\u5f97\u77e5\u8868\u683c\u7c7b\u578b)   ")),"  "),r.a.createElement(x.a,{"aria-label":"form",name:"form",value:M,onChange:function(e){return K("form",e.target.value)},row:!0},$.toArray().sort().map((function(e,t){return r.a.createElement(_.a,{key:t,value:e,control:r.a.createElement(O.a,null),label:e})})))),Se=r.a.createElement(b.a,{fullWidth:!0,component:"fieldset"},r.a.createElement(w.a,{component:"legend"},r.a.createElement("p",{style:{color:"red"}},r.a.createElement("strong",null,"Format of case number(Try both if your case number format looks different \u5982\u679ccase number\u683c\u5f0f\u770b\u8d77\u6765\u4e0d\u5bf9\u8bf7\u5c1d\u8bd5\u6539\u53d8\u6b64\u9009\u9879)"))," "),r.a.createElement(x.a,{"aria-label":"form",name:"form",value:I,onChange:function(e){return K("mode",e.target.value)},row:!0},["data_center_year_day_code_serial","data_center_year_code_day_serial"].map((function(e,t){return r.a.createElement(_.a,{key:t,value:e,control:r.a.createElement(O.a,null),label:e})})))),Ae=r.a.createElement(b.a,{fullWidth:!0,component:"fieldset"},r.a.createElement(w.a,{component:"legend"},"Center"),r.a.createElement(x.a,{"aria-label":"form",name:"form",value:C,onChange:function(e){return K("center",e.target.value)},row:!0},ee.toArray().sort().map((function(e,t){return r.a.createElement(_.a,{key:t,value:e,control:r.a.createElement(O.a,null),label:e})})))),ke=r.a.createElement(b.a,{fullWidth:!0,component:"fieldset"},r.a.createElement(w.a,{component:"legend"},"Fiscal Year"),r.a.createElement(x.a,{"aria-label":"fy",name:"fy",value:D,onChange:function(e){return K("fy",e.target.value)},row:!0},["21","22"].map((function(e,t){return r.a.createElement(_.a,{key:t,value:e,control:r.a.createElement(O.a,null),label:e})}))));return r.a.createElement("div",null,je,ke,xe,Ae,Se,Oe,we,Oe,be)},C=a(123),I=a(189),D=a.n(I),L=a(190),W=a.n(L),P=a(191),F=a.n(P),N=a(192),R=a.n(N),U=a(193),B=a.n(U),Q=a(194),T=a.n(Q),q=function(){var e=r.a.createElement("div",null,r.a.createElement("h2",null,"\u6350\u8d60\u662f\u7ef4\u6301\u8fd9\u4e2a\u9879\u76ee\u8fd0\u8425\u7684\u552f\u4e00\u6536\u5165\u6765\u6e90\ud83d\ude4f"),r.a.createElement("img",{src:T.a,alt:"venmo",style:{width:"350px",height:"350px"}}),r.a.createElement("img",{src:B.a,alt:"none",style:{width:"486px",height:"303px"}}),r.a.createElement("h3",null,"Q and A"),r.a.createElement("h4",null,"Q: \u600e\u4e48\u7528\uff1f"),r.a.createElement("p",null,"A: \u6a2a\u5750\u6807\u662f\u53f7\u6bb5\uff0c\u7eb5\u5750\u6807\u662f\u72b6\u6001\u5bf9\u5e94\u7684\u6570\u91cf\u3002"),r.a.createElement("h4",null,"Q: \u4ec0\u4e48\u662f\u53f7\u6bb5\uff1f"),r.a.createElement("p",null,"A: \u8fd9\u5f20\u56fe\u91cc\u7684working day number"),r.a.createElement("img",{src:R.a,alt:"wechat_donation",style:{width:"472px",height:"200px"}}),r.a.createElement("h4",null,"Q: \u4f60\u662f\u8c01\uff1f"),r.a.createElement("p",null,"A: \u6211\u4eca\u5e74\u62bd\u4e2d\u4e86h1b, \u5728\u7b49approve"),r.a.createElement("h4",null,"Q: \u6570\u636e\u6765\u6e90\uff1f"),r.a.createElement("p",null,"A: \u679a\u4e3e\u53f7\u6bb5\u4e0b\u6240\u6709\u53ef\u80fd\u7684case number\u5e76\u722c\u53d6USCIS, \u4fdd\u5b58\u6210\u6587\u4ef6"),r.a.createElement("h4",null,"Q: \u4e00\u822c\u4ec0\u4e48\u65f6\u5019\u66f4\u65b0\u6570\u636e\uff1f"),r.a.createElement("p",null,"A: \u901a\u5e38\u7f8e\u897f\u7b2c\u4e8c\u5929\u51cc\u6668\u66f4\u65b0\u524d\u4e00\u4e2a\u5de5\u4f5c\u65e5\u7684\u6570\u636e\uff0c\u53d6\u51b3\u4e8euscis\u662f\u5426\u62bd\u98ce\u4ee5\u53ca\u6211\u665a\u4e0a\u662f\u5426\u559d\u5927\u4e86\u5fd8\u8bb0\u8dd1\u66f4\u65b0\u811a\u672c\uff08\u624b\u52a8\u72d7\u5934"),r.a.createElement("h4",null,"Q: \u4e3a\u4ec0\u4e48\u662f\u6587\u4ef6\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u7528\u6570\u636e\u5e93\uff1f"),r.a.createElement("p",null,"A: \u8d2b\u7a77, github deploy\u9759\u6001\u7f51\u9875\u4e0d\u8981\u94b1"),r.a.createElement("h4",null,"Q: \u8fd9\u4e2a\u5f88\u6709\u7528\uff0c\u53ef\u4ee5\u8bf7\u4f60\u559d\u676f\u5496\u5561\u5417\uff1f"),r.a.createElement("p",null,"A: \u611f\u8c22\uff01"),r.a.createElement("img",{src:D.a,alt:"wechat_donation",style:{width:"400px",height:"560px"}}),r.a.createElement("h4",null,"Q: \u6211\u60f3\u548c\u4f60\u804a\u4e00\u804a\uff1f"),r.a.createElement("p",null,"A: \u52a0\u6211\u5fae\u4fe1\u5427\uff01"),r.a.createElement("img",{src:F.a,alt:"wechat",style:{width:"400px",height:"560px"}}),r.a.createElement("h4",null,"Q: \u8fd8\u6709\u522b\u7684\u95ee\u9898\u60f3\u8ba8\u8bba\uff1f"),r.a.createElement("p",null,"A: \u5fae\u4fe1\u7fa4\u548c",r.a.createElement("a",{href:"https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=636011",target:"_blank",rel:"noopener noreferrer"},"\u4e00\u4ea9\u4e09\u5206\u5730\u7684\u5e16\u5b50"),"\uff0c\u8bf7\u5e2e\u6211\u52a0\u70b9\u5927\u7c73\uff1a\uff09"),r.a.createElement("img",{src:W.a,alt:"wechat_group",style:{width:"400px",height:"560px"}})),t=r.a.createElement(C.FacebookProvider,{appId:"185533902045623"},r.a.createElement(C.Comments,{orderBy:"reverse_time",href:"https://vicdus.github.io/uscis-case-statistics/"}));return r.a.createElement("div",null,e,t)};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("comments"))}},[[228,1,2]]]);
//# sourceMappingURL=main.3d913b82.chunk.js.map